<div id="myModal" class="modal">

    <!-- /.drawer -->
    <div class="popup-fancybox popup-fancybox--theme-map" id="map-popup" style="display: none;">
        <div class="popup-fancybox__inner">
            <div class="map">
                <div class="map__input pb-4">
                    <div id="suggest-input">
                        <div class="input-search">
                            <label class="input-search__label">
                                <input type="text" class="input-search__control" placeholder="Введите текст для поиска">
                            </label>
                            <button type="button" class="button input-search__button"></button>
                        </div>
                        <div class="input-validation__message"></div>
                    </div>
                </div>
                <div class="map__box">
                    <div class="map__control" id="map-main"></div>
                    <button type="button" data-yandex-submit
                        class="map__button button button--color-pink button--theme-default mb-2">
                        <span class="button__text">Подтвердить</span>
                    </button>
                </div>
            </div>
        </div>
    </div>


    <!-- /#CallBack -->

    <div id="myModal" class="modal">

        <!-- Modal content -->
        <div class="modal-content">
            <span class="close">×</span>
            <div class="form" id="formModal">
                <div class="form__box">
                    <form class="js-form-validation" novalidate="novalidate">
                        <div class="form__title form__title--gray font-weight-bold text-center">
                            Быстрая
                            заявка
                        </div>
                        <div class="input input--theme-default mb-2">
                            <label class="input__label">
                                <input type="text" name="name" class="input__control" placeholder="Имя" required="">
                            </label>
                            <div class="input-validation__message"></div>
                        </div>
                        <div class="input input--theme-default mb-2">
                            <label class="input__label">
                                <input type="tel" name="tel" class="input__control" placeholder="Телефон" required="">
                            </label>
                            <div class="input-validation__message"></div>
                        </div>
                        <div class="field-location mb-3">
                            <label class="field-location__label">
                                <input data-yandex-input="" type="text" name="address" class="field-location__input"
                                    placeholder="Адрес доставки">
                            </label>
                            <a href="#map-popup" data-fancybox-map="" class="field-location__button button">
                                <span class="field-location__text">Найти меня</span>
                            </a>
                        </div>
                        <div class="checkbox mb-3 pb-1">
                            <label class="checkbox__label">
                                <input type="checkbox" name="agreement" class="checkbox__control">
                                <span class="checkbox__text">
                                    Даю согласие на обработку персональных данных и подтверждаю свое
                                    ознакомление с <a href="#">политикой обработки персональных
                                        данных</a> компании
                                </span>
                            </label>
                            <div class="input-validation__message"></div>
                        </div>
                        <div class="d-flex justify-content-center">
                            <button type="submit" class="button button--color-pink button--theme-default"
                                id="submetSucces">
                                <span class="button__text">Отправить</span>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
            <!-- /#map-popup -->
            <div class="popup-fancybox popup-fancybox--theme-successful" id="successful-send" style="display: none;">
                <div class="popup-fancybox__inner">
                    <div class="icon icon--successful d-flex mx-auto mb-3">
                        <svg width="70" height="70" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52"
                            fill="currentColor">
                            <path
                                d="M26,0C11.664,0,0,11.663,0,26s11.664,26,26,26s26-11.663,26-26S40.336,0,26,0z M26,50C12.767,50,2,39.233,2,26 S12.767,2,26,2s24,10.767,24,24S39.233,50,26,50z" />
                            <path
                                d="M38.252,15.336l-15.369,17.29l-9.259-7.407c-0.43-0.345-1.061-0.274-1.405,0.156c-0.345,0.432-0.275,1.061,0.156,1.406 l10,8C22.559,34.928,22.78,35,23,35c0.276,0,0.551-0.114,0.748-0.336l16-18c0.367-0.412,0.33-1.045-0.083-1.411 C39.251,14.885,38.62,14.922,38.252,15.336z" />
                        </svg>
                    </div>
                    <div class="text-center">
                        Спасибо!
                        <br>Ваша заявка отправлена.
                        <br>В ближайшее время мы с Вами свяжемся!
                    </div>
                </div>
            </div>
            <!-- /#successful-send -->
        </div>

    </div>

    <!-- Scrool icon -->
    <a href="#" class="to-top">
        <i class="fas fa-chevron-up"></i>
    </a>

    <!-- scrool top -->
    <script>
        const toTop = document.querySelector(".to-top");

        window.addEventListener("scroll", () => {
            if (window.pageYOffset > 100) {
                toTop.classList.add("active");
            } else {
                toTop.classList.remove("active");
            }
        })
    </script>

    <script>

        let modal = document.getElementById('myModal');
        let btn = document.getElementById("myBtn");
        let span = document.getElementsByClassName("close")[0];
        let succesSend = document.getElementById('successful-send');
        let sendSuccess = document.getElementById('submetSucces');
        let formModal = document.getElementById('formModal');

        btn.onclick = function () {
            modal.style.display = "block";
        }

        span.onclick = function () {
            modal.style.display = "none";
        }

        window.onclick = function (event) {
            if (event.target === sendSuccess) {
                modal.style.display = "none";
                succesSend.style.display = "block";
            }
        }

        window.onclick = function (event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
    </script>

</div>